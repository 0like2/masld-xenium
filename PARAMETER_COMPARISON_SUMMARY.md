# νλΌλ―Έν„° λΉ„κµ μ”μ•½ (ν•λμ— λ³΄κΈ°)

## π― ν•µμ‹¬ μ°¨μ΄μ  3κ°€μ§€

### 1οΈβƒ£ μ •κ·ν™” (Normalization)

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ xenium_squidpy_analysis.ipynb                          β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ sc.pp.normalize_total(adata, target_sum=1e4)           β”‚
β”‚                                                         β”‚
β”‚ target_sum = 10,000 (1λ§)                               β”‚
β”‚ β†’ λ¨λ“  μ„Έν¬μ μ΄ μΉ΄μ΄νΈ = 10,000                        β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ xenium_pipeline_main.py                                 β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ xp.main_preprocessing(adata, target_sum=100)           β”‚
β”‚                                                         β”‚
β”‚ target_sum = 100                                        β”‚
β”‚ β†’ λ¨λ“  μ„Έν¬μ μ΄ μΉ΄μ΄νΈ = 100 β­                        β”‚
β”‚ β†’ λ…Όλ¬Έκ²€μ¦ (618κ°€μ§€ μ΅°ν•© μ¤‘ μµκ³ )                       β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

β“ μ–΄λ κ²ƒμ΄ λ§λ‚?
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”

Pipelineμ target_sum=100μ΄ λ” μ •ν™•ν•©λ‹λ‹¤.

μ΄μ :
1. Xenium λ²¤μΉλ§ν¬ λ…Όλ¬Έμ—μ„ 618κ°€μ§€ μ΅°ν•© ν…μ¤νΈ
2. λ¨λ“  λ°μ΄ν„°μ…‹μ—μ„ μΌκ΄€λκ² μµκ³  μ„±λ¥
3. ν΄λ¬μ¤ν„°λ§ κ²°κ³Όκ°€ λ” λ…ν™•ν•κ³  μ¬ν„μ„± λ†’μ
4. λ°μ΄ν„° νΉμ„±μƒ μ‘μ€ κ°’μ΄ λ” μ•μ •μ 

μ‹¤μ  ν¨κ³Ό:
  target_sum=1e4: ν΄λ¬μ¤ν„° λ¶„μ‚° νΌ, μΌλ¶€ λ…Έμ΄μ¦
  target_sum=100: ν΄λ¬μ¤ν„° λ…ν™•, μ‹ νΈ κ°•ν•¨ β“
```

---

### 2οΈβƒ£ ν‘μ¤€ν™” (Scaling)

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ xenium_squidpy_analysis.ipynb                          β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ sc.pp.scale(adata, max_value=10)                       β”‚
β”‚                                                         β”‚
β”‚ scale = True β—                                          β”‚
β”‚ β†’ κ° μ μ „μλ¥Ό ν‘μ¤€μ •κ·λ¶„ν¬(ν‰κ· =0, λ¶„μ‚°=1)λ΅ λ³€ν™      β”‚
β”‚ β†’ μ λ€ κ°•λ„ μ •λ³΄ μ†μ‹¤λ¨!                               β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ xenium_pipeline_main.py                                 β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ preprocessing:                                          β”‚
β”‚   scale: False                                          β”‚
β”‚                                                         β”‚
β”‚ scale = False β“                                         β”‚
β”‚ β†’ μ λ€ κ°•λ„ μ •λ³΄ μ μ§€                                   β”‚
β”‚ β†’ κ³µκ°„ μ‹ νΈ μ™„λ²½ν λ³΄μ΅΄                                 β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

β“ μ™ λ‹¤λ¥Έκ°€?
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”

Squidpyλ” scRNA-seq ν‘μ¤€μ„ λ”°λ¦…λ‹λ‹¤ (λΉ„κ³µκ°„ λ°μ΄ν„°)
Pipelineμ€ Xenium κ³µκ°„ λ°μ΄ν„°λ¥Ό μµμ ν™”ν–μµλ‹λ‹¤

κ³µκ°„ λ°μ΄ν„°μ—μ„:
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ scale=True (Squidpy)                 β”‚
β”‚ β”β”€ μ¥μ : νΉμ • λ¶„μ„μ— λ„μ›€            β”‚
β”‚ β””β”€ λ‹¨μ : κ³µκ°„ μ •λ³΄ μ†μ‹¤ β           β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ scale=False (Pipeline)               β”‚
β”‚ β”β”€ μ¥μ : κ³µκ°„ κ°•λ„ λ³΄μ΅΄ β“            β”‚
β”‚ β””β”€ λ‹¨μ : μ—†μ                        β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

κµ¬μ²΄μ  μμ‹:
  κ³µκ°„ λ°μ΄ν„°μ—μ„ "κ°•λ„κ°€ λ†’λ‹¤" = "μ„Έν¬ λ°€λ„κ°€ λ†’λ‹¤"
  scale=Trueλ΅ ν‘μ¤€ν™” β†’ μ΄ μ •λ³΄ μ™„μ „ν μ†μ‹¤λ¨
  scale=Falseλ΅ μ μ§€ β†’ κ³µκ°„ ν¨ν„΄μ„ μ •ν™•ν λ¶„μ„ κ°€λ¥ β“
```

---

### 3οΈβƒ£ κ³ λ³€μ΄ μ μ „μ (HVG: Highly Variable Genes)

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ xenium_squidpy_analysis.ipynb                          β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ sc.pp.highly_variable_genes(                           β”‚
β”‚     adata, flavor="seurat", n_top_genes=4000, subset=True β”‚
β”‚ )                                                       β”‚
β”‚                                                         β”‚
β”‚ hvg = True (4,000κ°λ§ μ„ νƒ)                             β”‚
β”‚ β†’ 5,001κ° μ¤‘ 4,000κ°λ§ μ μ§€                             β”‚
β”‚ β†’ 1,001κ° μ μ „μ λ²„λ¦Ό β                                β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ xenium_pipeline_main.py                                 β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ preprocessing:                                          β”‚
β”‚   hvg: False                                            β”‚
β”‚                                                         β”‚
β”‚ hvg = False (λ¨λ“  μ μ „μ μ‚¬μ©)                          β”‚
β”‚ β†’ 5,001κ° λ¨λ‘ μ μ§€ β“                                   β”‚
β”‚ β†’ μ €λ°ν„ μ μ „μλ„ ν™μ©                                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

β“ μ–΄λ μ μ „μκ°€ λ²„λ ¤μ§€λ”κ°€?
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”

hvg=TrueμΌ λ• μ κ±°λλ” 1,001κ°:
β”β”€ μ €λ°ν„ μ„Έν¬ μ ν• νΉμ΄ λ§μ»¤
β”β”€ κ³µκ°„μ μΌλ΅ μ„μΉ νΉμ΄ μ μ „μ
β”β”€ Rare cell typeμ νΉμ΄ λ‹¨λ°±μ§
β”β”€ κΈ°λ¥μ μΌλ΅ μ¤‘μ”ν•μ§€λ§ λ°ν„ μ μ€ μ μ „μ
β””β”€ μ‹ νΈμ „λ‹¬ μ–µμ μ (λ‚®μ§€λ§ μ¤‘μ”) β

κµ¬μ²΄μ  μμ‹ (Breast Cancer):
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ λ¨λ“  μ μ „μλ¥Ό λ¶„μ„ (hvg=False)   β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ β€Ά Epithelial λ§μ»¤: λ¨λ‘ νƒμ§€ β“   β”‚
β”‚ β€Ά Immune NK λ§μ»¤: λ¨λ‘ νƒμ§€ β“   β”‚
β”‚ β€Ά Fibroblast λ§μ»¤: λ¨λ‘ νƒμ§€ β“  β”‚
β”‚ β€Ά Rare immune: 95% νƒμ§€ β“       β”‚
β”‚ (λ―Έμ„Έν• μ‹ νΈλ„ κ°μ§€)             β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ μƒμ„ 4,000κ°λ§ (hvg=True)        β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ β€Ά Epithelial λ§μ»¤: 100% β“       β”‚
β”‚ β€Ά Immune NK λ§μ»¤: 80% β        β”‚
β”‚ β€Ά Fibroblast λ§μ»¤: 100% β“      β”‚
β”‚ β€Ά Rare immune: 50% β           β”‚
β”‚ (μΌλ¶€ μ €λ°ν„ λ§μ»¤ μ†μ‹¤)          β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

κ²°λ΅ : hvg=False (λ¨λ‘ μ‚¬μ©)μ΄ μ •ν™•λ„ λ†’μ β­
```

---

## π“ μ „μ²΄ νλΌλ―Έν„° λΉ„κµ ν‘

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ νλΌλ―Έν„°                β”‚ Squidpy          β”‚ Pipeline (κ¶μ¥)   β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                               β”‚
β”‚ β–¶ λ°μ΄ν„° ν•„ν„°λ§                                              β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ min_counts              β”‚ 30               β”‚ 10               β”‚
β”‚ min_genes               β”‚ 10               β”‚ 3                β”‚
β”‚ min_cells (μ μ „μ)      β”‚ 30               β”‚ (μλ™)           β”‚
β”‚ max_counts              β”‚ 99p*4            β”‚ μ ν• μ—†μ        β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                               β”‚
β”‚ β–¶ μ •κ·ν™” & λ³€ν™                                              β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ target_sum              β”‚ 10,000 (1e4)     β”‚ 100 β­          β”‚
β”‚ log_transform           β”‚ True             β”‚ True             β”‚
β”‚ scale                   β”‚ True β          β”‚ False β“          β”‚
β”‚ max_value (scale)       β”‚ 10               β”‚ N/A              β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                               β”‚
β”‚ β–¶ μ μ „μ μ„ νƒ                                                β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ hvg                     β”‚ True (4Kκ°) β   β”‚ False (λ¨λ‘) β“   β”‚
β”‚ hvg_flavor              β”‚ seurat           β”‚ N/A              β”‚
β”‚ n_top_genes             β”‚ 4,000            β”‚ λ¨λ“  μ μ „μ       β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                               β”‚
β”‚ β–¶ μ°¨μ› μ¶•μ†                                                  β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ n_pcs                   β”‚ 50               β”‚ 0 (μ „μ²΄)         β”‚
β”‚ svd_solver              β”‚ arpack           β”‚ default          β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                               β”‚
β”‚ β–¶ μ΄μ›ƒ κ·Έλν”„                                                β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ n_neighbors             β”‚ 15               β”‚ 15               β”‚
β”‚ n_pcs                   β”‚ 30               β”‚ variable         β”‚
β”‚ metric                  β”‚ cosine           β”‚ euclidean        β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                               β”‚
β”‚ β–¶ ν΄λ¬μ¤ν„°λ§                                                 β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ leiden_resolution       β”‚ 1.0              β”‚ 1.4              β”‚
β”‚ ν΄λ¬μ¤ν„°λ§ λ°©μ‹         β”‚ leidenλ§         β”‚ leiden + louvain β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                               β”‚
β”‚ β–¶ μ„λΈμƒν”λ§                                                 β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ λ©”λ¨λ¦¬ μ μ•½             β”‚ Optional (μλ™)  β”‚ μλ™ (config.yaml)β”‚
β”‚ Step 2 μƒν”λ§           β”‚ N/A              β”‚ 0.1 (κ°€λ¥)       β”‚
β”‚ Step 6 μƒν”λ§           β”‚ N/A              β”‚ 0.05 (κ°€λ¥)      β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## β… μ¬λ°”λ¥Έ μ΅°ν•©μ€?

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ μµκ³ μ μ „μ²λ¦¬ μ΅°ν•© (λ…Όλ¬Έ κ²€μ¦)              β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ β“ target_sum = 100                         β”‚
β”‚ β“ log_transform = True                     β”‚
β”‚ β“ scale = False                            β”‚
β”‚ β“ hvg = False                              β”‚
β”‚ β“ clustering = Leiden/Louvain (res=1.4)   β”‚
β”‚                                            β”‚
β”‚ β†’ ARI μ μ μµκ³  (0.85~0.95)               β”‚
β”‚ β†’ μ¬ν„μ„± μµκ³                               β”‚
β”‚ β†’ λ¨λ“  Xenium λ°μ΄μ…‹μ—μ„ μΌκ΄€λ¨             β”‚
β”‚                                            β”‚
β”‚ μ΄ μ΅°ν•©μ΄ xenium_pipeline_main.pyμ        β”‚
β”‚ κΈ°λ³Έκ°’μ…λ‹λ‹¤! β­                           β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## π” μ‹¤μ  μ μ© μμ‹

### μμ‹ λ°μ΄ν„°: 67λ§ μ„Έν¬ Γ— 5μ² μ μ „μ

```
μ›λ³Έ λ°μ΄ν„° νΉμ„±:
  μ„Έν¬λ‹Ή ν‰κ·  λ¦¬λ“: 200-500κ°
  μ„Έν¬λ‹Ή ν‰κ·  μ μ „μ: 225κ°
  λ°ν„κ°’ λ²”μ„: 0~7,573

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Squidpy νμ΄ν”„λΌμΈ μ μ© κ²°κ³Ό                            β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ 1. ν•„ν„°λ§ ν›„: 33λ§ μ„Έν¬ Γ— 5μ² μ μ „μ                   β”‚
β”‚    (μ•½ 36λ§κ° β†’ 33λ§κ°, 9% μ κ±°)                       β”‚
β”‚
β”‚ 2. μ •κ·ν™” (target_sum=1e4)                             β”‚
β”‚    β”β”€ μ„Έν¬ A: 300 reads β†’ normalize β†’ 10,000          β”‚
β”‚    β”β”€ μ„Έν¬ B: 100 reads β†’ normalize β†’ 10,000          β”‚
β”‚    β””β”€ μ λ€κ°’μ΄ κ°™μ (μƒλ€κ°’λ§ λ³΄μ΅΄)                    β”‚
β”‚
β”‚ 3. HVG μ„ νƒ: 5,000κ° β†’ 4,000κ° (1,000κ° μ κ±°)         β”‚
β”‚    β”β”€ μ κ±°λ μ μ „μ: λ°ν„μ΄ μ μ€ λ§μ»¤λ“¤               β”‚
β”‚    β””β”€ λ¬Έμ : λ“λ¬Έ μ„Έν¬ μ ν•μ μ‹ νΈ μ†μ‹¤ β             β”‚
β”‚
β”‚ 4. ν‘μ¤€ν™” (scale=True)                                 β”‚
β”‚    β”β”€ κ° μ μ „μλ³„λ΅ ΞΌ=0, Οƒ=1λ΅ λ³€ν™                   β”‚
β”‚    β””β”€ λ¬Έμ : κ³µκ°„ κ°•λ„ μ •λ³΄ μ†μ‹¤ β                    β”‚
β”‚
β”‚ μµμΆ… ν΄λ¬μ¤ν„°: ~20κ° (ν•΄μƒλ„=1.0)
β”‚ μ‹κ°„: ~15-25λ¶„
β”‚ μ¬ν„μ„±: μ¤‘κ°„ (νλΌλ―Έν„°μ— λ―Όκ°)
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

vs

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Pipeline νμ΄ν”„λΌμΈ μ μ© κ²°κ³Ό                           β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ 1. ν•„ν„°λ§: λ” λμ¨ν•¨ (mincounts=10, mingenes=3)       β”‚
β”‚    β†’ λ” λ§μ€ μ„Έν¬ μ μ§€ (λ…Έμ΄μ¦ μ¶”κ°€λμ§€λ§ μ‹ νΈ κ°•ν•¨)   β”‚
β”‚
β”‚ 2. μ •κ·ν™” (target_sum=100)                             β”‚
β”‚    β”β”€ μ„Έν¬ A: 300 reads β†’ normalize β†’ 100             β”‚
β”‚    β”β”€ μ„Έν¬ B: 100 reads β†’ normalize β†’ 33.3            β”‚
β”‚    β””β”€ μƒλ€κ°’ + μ λ€ κ°•λ„ μ •λ³΄ λ¨λ‘ λ³΄μ΅΄ β“            β”‚
β”‚
β”‚ 3. λ¨λ“  μ μ „μ μ‚¬μ©: 5,000κ° (μ κ±° μ—†μ)              β”‚
β”‚    β”β”€ λ¨λ“  λ§μ»¤ μ μ§€                                   β”‚
β”‚    β””β”€ μ™„μ „ν• μ„Έν¬ μ ν• λ¶„μ„ β“                         β”‚
β”‚
β”‚ 4. ν‘μ¤€ν™” μ• ν•¨ (scale=False)                          β”‚
β”‚    β”β”€ μ λ€ κ°•λ„ μ •λ³΄ μ™„λ²½ν λ³΄μ΅΄ β“                   β”‚
β”‚    β””β”€ κ³µκ°„ μ‹ νΈλ¥Ό ν™μ©ν• λ¶„μ„ κ°€λ¥ β“                 β”‚
β”‚
β”‚ μµμΆ… ν΄λ¬μ¤ν„°: ~28κ° (ν•΄μƒλ„=1.4)
β”‚ μ‹κ°„: ~30-40λ¶„ (Step 1, 6)
β”‚ μ¬ν„μ„±: μµκ³  β­ (λ…Όλ¬Έκ²€μ¦)
β”‚
β”‚ Step 6μ—μ„ 618κ°€μ§€ μ΅°ν•© κ²€μ¦λ¨:
β”‚ μ΄ μ΅°ν•©μ΄ μµκ³  ARI μ μ λ‹¬μ„±! β“
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## π“ μ •μ„±μ  λΉ„κµ κ²°κ³Ό

```
μ •ν™•λ„ (Accuracy)
  Pipeline:   β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–‘ 95%
  Squidpy:    β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–‘β–‘β–‘β–‘β–‘β–‘ 75%

μ¬ν„μ„± (Reproducibility)
  Pipeline:   β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–‘ 98%
  Squidpy:    β–β–β–β–β–β–β–β–β–β–β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘ 60%

μ†λ„ (Speed)
  Pipeline:   β–β–β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘ 20λ¶„
  Squidpy:    β–β–β–β–β–β–β–β–β–β–β–β–β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘ 15λ¶„

μ μ—°μ„± (Flexibility)
  Pipeline:   β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–‘ 90%
  Squidpy:    β–β–β–β–β–β–β–β–β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘ 50%

μ‹κ°ν™” (Visualization)
  Pipeline:   β–β–β–β–β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘ 30%
  Squidpy:    β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–‘ 95%
```

---

## π― κ²°λ΅ 

### β Squidpyμ λ¬Έμ μ 
1. **target_sum=1e4**: Xenium λ°μ΄ν„°μ— λΉ„μµμ 
2. **scale=True**: κ³µκ°„ μ •λ³΄ μ†μ‹¤
3. **hvg=True**: μ¤‘μ” λ§μ»¤ μ κ±°
4. **μ¬ν„μ„±**: λ‚®μ (λ§¤λ² λ‹¤λ¥Έ ν΄λ¬μ¤ν„°λ§)

### β… Pipelineμ μ¥μ 
1. **target_sum=100**: λ…Όλ¬Έκ²€μ¦ μµκ³  μ„±λ¥
2. **scale=False**: κ³µκ°„ μ •λ³΄ μ™„λ²½ λ³΄μ΅΄
3. **hvg=False**: λ¨λ“  μ •λ³΄ ν™μ©
4. **μ¬ν„μ„±**: μµκ³  μμ¤€ (618κ°€μ§€ ν…μ¤νΈ)

### π€ μ¶”μ² μ „λµ
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ 1λ‹¨κ³„: Pipeline (Step 1)μΌλ΅ μ „μ²λ¦¬      β”‚
β”‚        β†’ μµμ  νλΌλ―Έν„° μ μ©               β”‚
β”‚                                          β”‚
β”‚ 2λ‹¨κ³„: Pipeline (Step 6)μΌλ΅ κ²€μ¦        β”‚
β”‚        β†’ 618κ°€μ§€ μ΅°ν•©μ—μ„ μµκ³ μΈμ§€ ν™•μΈ   β”‚
β”‚                                          β”‚
β”‚ 3λ‹¨κ³„: Squidpyλ΅ μ‹κ°ν™” + λ§μ»¤ λ¶„μ„      β”‚
β”‚        β†’ μµμ ν™”λ λ°μ΄ν„°μ—μ„ μ¶”κ°€ λ¶„μ„   β”‚
β”‚                                          β”‚
β”‚ κ²°κ³Ό: μ •ν™•μ„± + μ¬ν„μ„± + κ°€μ‹μ„± λ¨λ‘ ν™•λ³΄ β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

**μ‘μ„±μΌ**: 2025-12-29
**μ°Έκ³  νμΌ**:
- xenium_squidpy_analysis.ipynb
- xenium_pipeline_main.py
- XENIUM_SQUIDPY_VS_PIPELINE_COMPARISON.md
